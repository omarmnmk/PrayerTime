<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Prayer Times Notifications</title>
<!-- OneSignal SDK -->
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "598c308f-f74e-4449-8635-b9033d340cbc",
    });
  });
</script>
</head>
<body>

  <h1>Today's Prayer Times</h1>
  <div id="prayer-times"></div>
  
  <button onclick="subscribeUser()">Subscribe to Notifications</button>
  
  <!-- Your JS Logic -->
  <script>
    // Fetch the JSON data (must be after the HTML element!)
    fetch('today_prayer_times.json')
      .then(response => response.json())
      .then(prayerTimes => {
        const container = document.getElementById("prayer-times");
        for (const [prayer, times] of Object.entries(prayerTimes)) {
          const div = document.createElement("div");
          div.innerHTML = `<strong>${prayer}</strong>: Azan - ${times.azan}, Iqama - ${times.iqama}`;
          container.appendChild(div);
        }
      });
  
    // Notifications subscribe button
    function subscribeUser() {
      OneSignal.push(function() {
        OneSignal.showNativePrompt();
      });
    }
  </script>

</body>
</html>
